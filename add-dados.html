<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adicionar Dados</title>
</head>
<body>
    <h1>Adicionar Dados</h1>
    <form id="dataForm">
        <label for="name">Nome:</label>
        <input type="text" id="name" required><br>
        
        <label for="photo">Foto:</label>
        <input type="file" id="photo" accept="image/*" required><br>
        
        <label for="linkTitle">TÃ­tulo do Link:</label>
        <input type="text" id="linkTitle" required><br>
        
        <label for="linkURL">URL:</label>
        <input type="text" id="linkURL" required><br>
        
        <button type="button" onclick="salvarDados()">Salvar</button>
    </form>

    <script>
        function salvarDados() {
            const name = document.getElementById('name').value;
            const photoFile = document.getElementById('photo').files[0];
            const linkTitle = document.getElementById('linkTitle').value;
            const linkURL = document.getElementById('linkURL').value;

            if (!name || !photoFile || !linkTitle || !linkURL) {
                alert('Por favor, preencha todos os campos!');
                return;
            }

            // Ler o arquivo de imagem como URL de dados (base64)
            const reader = new FileReader();
            reader.onload = function(event) {
                const photoDataURL = event.target.result;

                const data = {
                    name: name,
                    photoDataURL: photoDataURL,
                    linkTitle: linkTitle,
                    linkURL: linkURL
                };

                // Salvar os dados no localStorage
                let savedData = JSON.parse(localStorage.getItem('savedData')) || [];
                savedData.push(data);
                localStorage.setItem('savedData', JSON.stringify(savedData));

                alert('Dados salvos com sucesso!');
                document.getElementById('dataForm').reset();
            };

            reader.readAsDataURL(photoFile);
        }
    </script>
</body>
</html>
